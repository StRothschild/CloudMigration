# XSS（cross-site scripting 跨域脚本）攻击
#### XSS 攻击是最常见的 Web 攻击，其重点是"跨站点"和"客户端执行"，当客户端在执行渲染 HTML 文档的过程中，出现了不被预期的脚本并执行时，XSS 攻击就发生了。XSS 攻击可分为三种：1. Reflected XSS（基于反射的XSS攻击）；2. Stored XSS（基于存储的XSS攻击）；3. DOM-based or local XSS（基于DOM或本地的XSS攻击）

---
### 1. Reflected XSS（基于反射的 XSS 攻击）
#### 基于反射的 XSS 攻击，主要依靠在客户端输入的内容中注入恶意脚本并提交到服务器端，服务器端解析后将恶意代码又返回给客户端，最后由客户端会解析并执行这些返回来的恶意代码。这种攻击经过后端，但不经过数据库。

#### 措施：
 ##### 1. 前端在显示服务端数据时候，不仅是标签内容需要过滤、转义，就连属性值也都可能需要。
 ##### 2. 后端接收请求时，验证请求是否为攻击请求，攻击则屏蔽。






---
### 2. Stored XSS（基于存储的 XSS 攻击）
#### 基于存储的 XSS 攻击，是通过服务器端的漏洞把恶意脚本存储在服务器中，然后有客户端获取该资源时就会执行恶意脚本，盗取 cookie 或信息。这种攻击需要经过后端，经过数据库。

#### 措施：
 ##### 1. 首要是服务端要进行过滤，因为前端的校验可以被绕过。
 ##### 2. 当服务端不校验时候，前端要以各种方式过滤里面可能的恶意脚本，例如script标签，将特殊字符转换成HTML编码。






 ---
 ### 3. DOM-Based XSS（基于 DOM 的 XSS 攻击）
 #### DOMB-Based XSS是一种基于网页 DOM 结构的攻击。这种攻击是往往是通过 URL 传入参数来触发的，比如页面 DOM 中的某些内容是通过 URL 中的某个参数来获取并直接显示的。那么这种攻击就可以不经过后端，直接由 URL 来攻击客户端。

 #### 措施：
  ##### 1. 需要过滤 URL，将 URL 进行编码和消毒。


---
### 总结
#### XSS 攻击的本质是对页面的 DOM 注入并执行非法的 JS 代码。所以最好的防御 XSS 攻击的方式，就是永远不相信用户的输入，需要对用户的输入进行消毒处理，只允许输入合法的值。


---
  ### 参考
  http://blog.csdn.net/u011781521/article/details/53894399
